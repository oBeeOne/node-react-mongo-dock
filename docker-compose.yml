version: "3.7"
services: 
    # Service API
    api:
        image: api:latest
        ports: 
            - "5000:5000"
        volumes: 
            - ./api:/usr/src/app/api
        links: 
            - mongo
    #    command: npm start

    # Service React
    myreact:
        image: myreact:latest
        ports: 
            - "4000:3000"
        volumes: 
            - ./myreact:/usr/src/app/myreact
        links: 
            - api
    #   command: npm start

    # Service mongo
    mongo:
        image: mongo:3.6.4
        ports: 
            - "27017:27017"

    # Service Mongo-Express web interface
    #mongo-express:
    #    image: mongo-express:latest
    #    ports: 
    #        - "10000:10000"
    #    environment: 
    #        - ME_CONFIG_OPTIONS_EDITORTHEME=ambiance
    #        - ME_CONFIG_MONGODB_SERVER=mongo
    #        - ME_CONFIG_MONGODB_PORT=27017
            #- ME_CONFIG_BASICAUTH_USERNAME="user"
            #- ME_CONFIG_BASICAUTH_PASSWORD="MyWTFp4ssW0rdT00long"
    #    links:   
    #        - mongo
